<!doctype html><html lang=en-US><head><meta charset=utf-8><meta content="ie=edge" http-equiv=x-ua-compatible><meta content="width=device-width,initial-scale=1,shrink-to-fit=no" name=viewport><link as=font href=https://openvaf.semimod.de/fonts/vendor/jost/jost-v4-latin-regular.woff2 rel=preload type=font/woff2><link as=font href=https://openvaf.semimod.de/fonts/vendor/jost/jost-v4-latin-700.woff2 rel=preload type=font/woff2><link href=https://openvaf.semimod.de/main.css rel=stylesheet><meta content="index, follow" name=robots><meta content="index, follow, max-snippet:-1, max-image-preview:large, max-video-preview:-1" name=googlebot><meta content="index, follow, max-snippet:-1, max-image-preview:large, max-video-preview:-1" name=bingbot><title>Performance | OpenVAF</title><meta content="A list of benchmarks that showcase the performance of OpenVAF" name=description><link href=https://openvaf.semimod.de/docs/details/performance/ rel=canonical><script type=application/ld+json>
  {
    "@context": "http://schema.org",
    "@type": "BreadcrumbList",
    
      
      
        
        
        
        
        
        
        
        
          {
            "@type": "ListItem",
            "position":  1 ,
            "name": "Home",
            "item": "https://openvaf.semimod.de/"
          },
          
          
          {
            "@type": "ListItem",
            "position":  2 ,
            "name": "Docs",
            "item": "https://openvaf.semimod.de/docs/"
          },
        
      
        
        
        
        
        
        
        
        
          
          
          {
            "@type": "ListItem",
            "position":  3 ,
            "name": "Details",
            "item": "https://openvaf.semimod.de/docs/details/"
          },
        
      
        
        
        
        
        
        
        
        
          
          
          {
            "@type": "ListItem",
            "position":  4 ,
            "name": "Performance",
            "item": "https://openvaf.semimod.de/docs/details/performance/"
          },
        
      
    
  }
</script><meta content=#fff name=theme-color><link href=https://openvaf.semimod.de/apple-touch-icon.png rel=apple-touch-icon sizes=180x180><link href=https://openvaf.semimod.de/favicon-32x32.png rel=icon sizes=32x32 type=image/png><link href=https://openvaf.semimod.de/favicon-16x16.png rel=icon sizes=16x16 type=image/png><link href=https://openvaf.semimod.de/site.webmanifest rel=manifest><body class="docs single"><div class="header-bar fixed-top"></div><header class="navbar fixed-top navbar-expand-md navbar-light"><div class=container><input class="menu-btn order-0" id=menu-btn type=checkbox><label class="menu-icon d-md-none" for=menu-btn><span class=navicon></span></label><a class="navbar-brand order-1 order-md-0 me-auto" href=https://openvaf.semimod.de>OpenVAF</a><button aria-label="Toggle mode" class="btn btn-link order-2 order-md-4" id=mode type=button><span class=toggle-dark><svg class="feather feather-moon" viewbox="0 0 24 24" fill=none height=20 stroke=currentColor stroke-linecap=round stroke-linejoin=round stroke-width=2 width=20 xmlns=http://www.w3.org/2000/svg><path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path></svg></span> <span class=toggle-light><svg class="feather feather-sun" viewbox="0 0 24 24" fill=none height=20 stroke=currentColor stroke-linecap=round stroke-linejoin=round stroke-width=2 width=20 xmlns=http://www.w3.org/2000/svg><circle cx=12 cy=12 r=5></circle><line x1=12 x2=12 y1=1 y2=3></line><line x1=12 x2=12 y1=21 y2=23></line><line x1=4.22 x2=5.64 y1=4.22 y2=5.64></line><line x1=18.36 x2=19.78 y1=18.36 y2=19.78></line><line x1=1 x2=3 y1=12 y2=12></line><line x1=21 x2=23 y1=12 y2=12></line><line x1=4.22 x2=5.64 y1=19.78 y2=18.36></line><line x1=18.36 x2=19.78 y1=5.64 y2=4.22></line></svg></span></button><ul class="navbar-nav fork-me order-3 order-md-5"><li class=nav-item><a class=nav-link href=https://github.com/pascalkuthe/openvaf><svg class="feather feather-github" viewbox="0 0 24 24" fill=none height=20 stroke=currentColor stroke-linecap=round stroke-linejoin=round stroke-width=2 width=20 xmlns=http://www.w3.org/2000/svg><path d="M9 19c-5 1.5-5-2.5-7-3m14 6v-3.87a3.37 3.37 0 0 0-.94-2.61c3.14-.35 6.44-1.54 6.44-7A5.44 5.44 0 0 0 20 4.77 5.07 5.07 0 0 0 19.91 1S18.73.65 16 2.48a13.38 13.38 0 0 0-7 0C6.27.65 5.09 1 5.09 1A5.07 5.07 0 0 0 5 4.77a5.44 5.44 0 0 0-1.5 3.78c0 5.42 3.3 6.61 6.44 7A3.37 3.37 0 0 0 9 18.13V22"></path></svg><span class="ms-2 visually-hidden">GitHub</span></a></ul><div class="collapse navbar-collapse order-4 order-md-1"><ul class="navbar-nav main-nav me-auto order-5 order-md-2"><li class="nav-item docs active"><a class=nav-link href=https://openvaf.semimod.de/docs/getting-started/introduction/>Docs</a><li class=nav-item><a class=nav-link href=https://openvaf.semimod.de/download/>Downloads</a><li class=nav-item><a class=nav-link href=https://openvaf.semimod.de/blog/>Blog</a></ul><div class="break order-6 d-md-none"></div><form class="navbar-form flex-grow-1 order-7 order-md-3"><input aria-label="Search docs..." class="form-control is-search" placeholder="Search docs..." autocomplete=off id=userinput type=search><div class="shadow bg-white rounded" id=suggestions></div></form></div></div></header><div class="wrap container" role=document><div class=content><div class="row flex-xl-nowrap"><div class="col-lg-5 col-xl-4 docs-sidebar"><nav aria-label="Main navigation" class=docs-links><h3>Getting Started</h3><ul class=list-unstyled><li><a class=docs-link href=https://openvaf.semimod.de/docs/getting-started/introduction/>Introduction</a><li><a class=docs-link href=https://openvaf.semimod.de/docs/getting-started/installation/>Installation</a><li><a class=docs-link href=https://openvaf.semimod.de/docs/getting-started/usage/>Usage</a><li><a class=docs-link href=https://openvaf.semimod.de/docs/getting-started/examples/>Examples</a></ul><h3>Details</h3><ul class=list-unstyled><li><a class="docs-link active" href=https://openvaf.semimod.de/docs/details/performance/>Performance</a><li><a class=docs-link href=https://openvaf.semimod.de/docs/details/verilog-a-standard/>Verilog-A Standard Compliance</a><li><a class=docs-link href=https://openvaf.semimod.de/docs/details/osdi/>OSDI - Simulator Interface</a><li><a class=docs-link href=https://openvaf.semimod.de/docs/details/compiler-internals/>Compiler Internals</a><li><a class=docs-link href=https://openvaf.semimod.de/docs/details/ui/>User Interface</a></ul><h3>Help</h3><ul class=list-unstyled><li><a class=docs-link href=https://openvaf.semimod.de/docs/help/faq/>FAQ</a><li><a class=docs-link href=https://openvaf.semimod.de/docs/help/compact-models/>Available compact models</a><li><a class=docs-link href=https://openvaf.semimod.de/docs/help/how-to-contribute/>Contributing and Support</a><li><a class=docs-link href=https://openvaf.semimod.de/docs/help/integration/>Integration Service</a></ul></nav></div><nav aria-label="Secondary navigation" class="docs-toc d-none d-xl-block col-xl-3"><div class=page-links><h3>On this page</h3><nav id=TableOfContents><ul><li><a href=https://openvaf.semimod.de/docs/details/performance/#model-compilation>Model Compilation</a><li><a href=https://openvaf.semimod.de/docs/details/performance/#model-evaluation>Model Evaluation</a></li><ul><li><a href=https://openvaf.semimod.de/docs/details/performance/#hicum-l2v2p4p0-output-characteristics>HICUM/L2v2p4p0 Output Characteristics</a><li><a href=https://openvaf.semimod.de/docs/details/performance/#bsimsoi-4-4-0-output-characteristics-builtin-vs-openvaf>BSIMSOI 4.4.0 Output Characteristics (builtin vs OpenVAF)</a><li><a href=https://openvaf.semimod.de/docs/details/performance/#bsimbulk-106-2-output-characteristics-adms-vs-openvaf>BSIMBULK 106.2 Output Characteristics (ADMS vs OpenVAF)</a><li><a href=https://openvaf.semimod.de/docs/details/performance/#psp-103-8-inverter>PSP 103.8 Inverter</a><li><a href=https://openvaf.semimod.de/docs/details/performance/#iscas-benchmark-circuit-with-psp-103-8>ISCAS Benchmark Circuit with PSP 103.8</a></ul></ul></nav></div></nav><main class="docs-content col-lg-11 col-xl-9"><h1 id=performance>Performance</h1><p>The following paragraphs give an overview on OpenVAF's performance. Both <strong>compilation speed</strong> and <strong>simulation speed</strong> are analyzed. Compilation speed of different Verilog-A compilers is straightforward to compare. However, comparing the simulation speed of different simulators is difficult. Each simulator implements different convergence algorithms, and might perform better under different circumstances. The netlists and options have been made as equal as possible, yet it must be stressed that the simulation performance of <strong>different simulators</strong> cannot be compared.<p>In simulations with commercial simulations, the <strong>license checkout time has been removed</strong> from the run-time. As far as possible, writing to the hard-disk has been turned off for reducing the impact of read/write calls that are not of interest here. For Keysight ADS turning off all IO was not possible.<p>The chosen benchmarks are mostly <strong>simple single-transistor benchmarks</strong>, so that the model evaluation code (generated by OpenVAF) is the main bottleneck instead of other algorithms in the simulator. Note that multithreaded model evaluation with OpenMP support was turned off in Ngspice for these benchmarks. These benchmarks were run on an Intel i7-9750H@2.60GHz with 16 GB of DDR4 RAM and a SSD, if not mentioned otherwise. The benchmarks were performed with OpenVAF 22.12.0, XYCE 7.5 and Keysight ADS 512.update2.0. and Cadence Spectre 18.1.077.<p>We acknowledge our academic partner for help with these comparisons.<h2 id=model-compilation>Model Compilation</h2><p>The model compilation time in seconds is compared between different models and different tools.<p><em>Benchmark results (in seconds, less is better):</em><table><thead><tr><th><th>PSPv103<th>BSIM4<th>EKV2.6<th>JUNCAP200<tbody><tr><td><strong>OpenVAF</strong><td>3.48<td>6.7<td>0.23<td>0.61<tr><td><strong>Xyce ADMS</strong><td>109<td>25.1<td>9.6*<td>16.6<tr><td><strong>ADS</strong><td>33.9<td>27.0<td>2.5<td>5.1<tr><td><strong>Spectre</strong><td>27.4<td>-<td>6.1<td>11.4</table><table><thead><tr><th><th>HICUM/L2v3.0<th>BSIM-SOI 4.6<th>BSIM-BULK 107<tbody><tr><td><strong>OpenVAF</strong><td>0.72<td>2.1<td>2.9<tr><td><strong>Xyce ADMS</strong><td>22*<td>102.1*<td>-*<tr><td><strong>ADS</strong><td>7.7<td>30.7<td>34.5<tr><td><strong>Spectre</strong><td>19.7<td>16.9<td>19.1</table><p>The benchmarks above exemplify that OpenVAF tends to outperform alternative compilers by a factor of 10 w.r.t. to compilation speed. For models like BSIM4 that have a very large number of model parameters, but (comparatively) small evaluation code, performance is currently slightly worse than it will be with coming OpenVAF releases. This problem is a known limitation and will be addressed in the future. Nonetheless, OpenVAF outperforms other compilers by a factor of 4 in the worst case.<p><strong>=> OpenVAF compiles around x10 faster than existing tools!</strong><p>- = Spectre compilation fails:<ul><li>BSIM4: gcc compiler error without error message</ul><p>* = Xyce <code>buildxyceplugin</code> fails:<ul><li>HICUM/L2: brackets at macro def<li>BSIM-SOI: Custom model v4.5 from Xyce repo<li>BSIM-Bulk: Non-independent initializations and node collapses, could not easily fix<li>EKV: par. range macros, noise sources not working</ul><h2 id=model-evaluation>Model Evaluation</h2><h3 id=hicum-l2v2p4p0-output-characteristics>HICUM/L2v2p4p0 Output Characteristics</h3><p>The aim of this benchmark is to provide a rough overview of Verilog-A model performance across different simulators. As noted in the introduction, comparisons between different simulators are not easy to interpret. In particular, different simulation configuration and convergence algorithms may affect the results.<p>Benchmark Setup: Simulation of HBT output characteristics using HICUM/L2 model shown in the examples. The collector and base voltage step width is set to 1 mV, increasing the simulation time significantly.<p><em>Benchmark results (in seconds, less is better):</em><ul><li><strong>Ngspice (OpenVAF): 9.16s</strong><li>Ngspice (built-in): 14.64s<li>Xyce (ADMS): 36.42s<li>Xyce (built-in): 26.56s<li>ADS (Verilog-A): 8.63s<li>ADS (built-in): 7.01s<li>Spectre (Verilog-A): 52.61s<li>Spectre (built-in): 25.33s</ul><p>Notes:<ul><li>The OpenVAF compiled model runs faster than the built-in Ngspice HICUM/L2 model as this particular built-in implementation uses slow dual-number based derivatives<li>Xyce evaluation time is very likely larger due to difference in convergence algorithms, and not inherently due to Xyce itself.</ul><h3 id=bsimsoi-4-4-0-output-characteristics-builtin-vs-openvaf>BSIMSOI 4.4.0 Output Characteristics (builtin vs OpenVAF)</h3><p>BSIMSOI is available as a very mature and highly optimized hardcoded model in Ngspice. The derivatives are all handwritten and haven been manually optimized over many years. Therefore, comparing OpenVAF to this handwritten version allows evaluating the quality of the OpenVAF generated derivatives.<p>Benchmark Setup: Simulation of MOSFET output characteristics with very fine bias steps.<p><em>Benchmark results (in seconds, less is better):</em><ul><li><strong>Ngspice (OpenVAF): 8.47s</strong><li>Ngspice (built-in): 7.98s</ul><p>=> OpenVAF models are only 6% slower than carefully optimized handwritten code.<h3 id=bsimbulk-106-2-output-characteristics-adms-vs-openvaf>BSIMBULK 106.2 Output Characteristics (ADMS vs OpenVAF)</h3><p>The BSIMBULK model is not available in Ngspice by default. However, an experimental Verilog-A model that was adjusted for compilation with ADMS is available. Hence, this enables a fair comparison between ADMS and OpenVAF in the same simulator.<p>Benchmark Setup: Simulation of MOSFET output characteristics with very fine bias steps.<p><em>Benchmark results (in seconds, less is better):</em><ul><li><strong>Ngspice (OpenVAF): 2.08s</strong><li>Ngspice (ADMS): 3.38s</ul><p>Benchmark Setup: Simulation of MOSFET transient characteristics with very fine fixed time steps.<p><em>Benchmark results (in seconds, less is better):</em><ul><li><strong>Ngspice (OpenVAF): 9.47s</strong><li>Ngspice (ADMS): 13.70s</ul><p>=> OpenVAF based simulations are between <strong>40% and 100% faster</strong> than ADMS based simulations in Ngspice<h3 id=psp-103-8-inverter>PSP 103.8 Inverter</h3><p>This benchmark demonstrates a use-case that is close to a real-world use case. Note that the performance difference here is smaller in relative terms because more time is spent on other simulator tasks such as matrix factorization.<p>Benchmark: Transient simulation of the inverter from the examples section using a very fine bias grid.<p><em>Benchmark results (in seconds, less is better):</em><ul><li><strong>Ngspice (OpenVAF): 20.01s</strong><li>Ngspice (ADMS): 25.07s</ul><p>=> OpenVAF provides a 20% speedup compared to ADMS in a realistic transient simulation of a simple circuit<h3 id=iscas-benchmark-circuit-with-psp-103-8>ISCAS Benchmark Circuit with PSP 103.8</h3><p>Benchmark: Transient simulation of the ISCAS benchmark circuit from the examples' section using a very fine bias grid. Note that Ngspice has been built with openmp for this example to enable parallelization.<p><em>Benchmark results (in seconds, less is better):</em><ul><li><strong>Ngspice (OpenVAF): 20min</strong><li>Ngspice (ADMS): 25min</ul><p>=> OpenVAF has a 20% speedup compared to ADMS in massively parallel transient simulation<div class="docs-navigation d-flex justify-content-between"><a href=https://openvaf.semimod.de/docs/getting-started/examples/> <div class="card my-1"><div class="card-body py-2">← Examples</div></div> </a><a class=ms-auto href=https://openvaf.semimod.de/docs/details/verilog-a-standard/> <div class="card my-1"><div class="card-body py-2">Verilog-A Standard Compliance →</div></div> </a></div></main></div></div></div><footer class="footer text-muted"><div class=container><div class=row><div class="col-lg-8 order-last order-lg-first"><ul class=list-inline><li class=list-inline-item>Developed by <a href=https://www.semimod.de>SemiMod GmbH</a></ul></div><div class="col-lg-8 order-first order-lg-last text-lg-end"><ul class=list-inline><li class=list-inline-item><a href=https://openvaf.semimod.de/privacy-policy/>Privacy Policy</a></ul></div></div></div></footer><script defer src=https://openvaf.semimod.de/js/main.js></script><script defer src=https://openvaf.semimod.de/plugins/elasticlunr.min.js></script><script defer src=https://openvaf.semimod.de/search_index.en.js></script><script defer src=https://openvaf.semimod.de/js/search.js></script>